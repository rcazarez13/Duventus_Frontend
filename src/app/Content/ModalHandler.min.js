function InitModal(o) { InitTooltips(), $(o).find(".modal-footer").prepend($(o).find("input[type='submit']").css("display", "inline")) } function DestroyModal(o) { $(o).find(".modal-footer").find("input[type='submit']").remove(), $($(o).find(".modal-content")[0].children[1]).html(loading_msg) } function CloseFormsModal() { $(".modal").modal("close") } function preventSubmitForm(o, e) { Loading_Mostrar(processing_msg, please_wait_msg); var e = $(e), t = e.attr("action"), n = new FormData($(e)[0]); $.ajax({ type: "POST", url: t, data: n, cache: !1, contentType: !1, processData: !1, success: function (e) { if (void 0 != e.success) { if (!0 == e.success) { CloseFormsModal(), Swal.fire(e.message, e.message_details || "", e.icon || "success"); try { $("table").DataTable().ajax.reload() } catch { location.reload() } } else CloseFormsModal(), Swal.fire(e.message, e.message_details || "", e.icon || "error") } else $(o).html(e), InitTooltips(), InitInputs() } }) } function PopupForm_Add(o) { Loading_Mostrar(processing_msg, please_wait_msg), $("#ModalCreateContent").load(o, function (o, e, t) { "success" == e && (Loading_Close(), $("#ModalCreate").modal("open")), "error" == e && showDialog_swal(error_occurred_msg, "", "error") }) } function PopupForm_Edit(o) { Loading_Mostrar(processing_msg, please_wait_msg), $("#ModalEditContent").load(o, function (o, e, t) { "success" == e && (Loading_Close(), $("#ModalEdit").modal("open")), "error" == e && showDialog_swal(error_occurred_msg, "", "error") }) } function PopupForm_Permission(o) { Loading_Mostrar(processing_msg, please_wait_msg), $("#ModalPermissionsContent").load(o, function (o, e, t) { "success" == e && (Loading_Close(), $("#ModalPermissions").modal("open")), "error" == e && showDialog_swal(error_occurred_msg, "", "error") }) } function PopupForm_Details(o) { Loading_Mostrar(processing_msg, please_wait_msg), $("#ModalDetailsContent").load(o, function (o, e, t) { "success" == e && (Loading_Close(), $("#ModalDetails").modal("open")), "error" == e && showDialog_swal(error_occurred_msg, "", "error") }) } $(function () { $(".modal").modal(), $(".modal").on("hide", function () { $.each($(".modal-content"), function (o, e) { $(e.firstElementChild).html(loading_msg) }), $.each($(".modal-footer"), function (o, e) { $(e.firstElementChild).html("") }) }), $(".modal").on("show", function () { $('[data-toggle="tooltip"]').tooltip("close"), $(".select2").select2({ dropdownAutoWidth: !0, width: "100%", minimumResultsForSearch: 1 / 0 }) }) });