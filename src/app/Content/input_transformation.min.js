function InitInputs() { $(".email_validator").css("text-transform", ""), $("input").attr("autocomplete", "off"), $("input").focus(function () { $(this).select() }), $("input").click(function () { $(this).select() }), $(".required_quote").remove(), $("[required]").prev("label").append("<span class='required_quote' data-position='right' title='" + ("en" == current_locale ? "Required field" : "Campo Requerido") + "'>&nbsp;*</span>"), $(".select2").each(function () { $(this).select2({ dropdownAutoWidth: !0, width: "100%", minimumResultsForSearch: 1 / 0, tags: $(this).data("tag"), closeOnSelect: $(this).hasAttr("multiple") }) }), "en" == current_locale ? $("form input[type='file']").attr("data-allowed-file-extensions", $(this).attr("accept")).dropify({ messages: { default: "Drag and drop a file here or click", replace: "Drag and drop or click to replace", remove: "Remove", error: "Ooops, something wrong happended." }, error: { fileSize: "The file size is too big ({{ value }} max).", minWidth: "The image width is too small ({{ value }}}px min).", maxWidth: "The image width is too big ({{ value }}}px max).", minHeight: "The image height is too small ({{ value }}}px min).", maxHeight: "The image height is too big ({{ value }}px max).", imageFormat: "The image format is not allowed ({{ value }} only).", fileExtension: "The file is not allowed ({{ value }} only)." } }) : $("form input[type='file']").attr("data-allowed-file-extensions", $(this).attr("accept")).dropify(); try { $(".collapsible").collapsible({ accordion: !0 }) } catch { } $("input[type='email']").addClass("lower"); try { $(".datepicker").each(function () { !function e(t) { $(t).datepicker({ format: "dd/mm/yyyy", onCloseEnd: function () { e(this.el) } }) }(this) }) } catch { } try { $(".timepicker").each(function () { !function e(t) { $(t).timepicker({ twelveHour: !1, onCloseEnd: function () { e(this.el) } }) }(this) }) } catch { } InitInputEvents(); try { M.updateTextFields() } catch { } } function InitInputEvents() { $("button").on("click", function (e) { $(this).blur() }), $("form").bind("keypress", function (e) { if (13 == e.keyCode) return !1 }), $("input[type='text']").on("keypress", function (e) { if (13 == e.keyCode) { var t = $(this).parents("form").eq(0).find(":input[type='text']:visible"), i = t.index(this); return i == t.length - 1 ? t[0].select() : (t[i + 1].focus(), t[i + 1].select()), !1 } }), $(".allownumericwithdecimal").on("keypress keyup blur", function (e) { $(this).val($(this).val().replace(/[^0-9\.]/g, "")), (46 != e.which || -1 != $(this).val().indexOf(".")) && (e.which < 48 || e.which > 57) && e.preventDefault() }), $(".allownumeric").on("keypress keyup blur", function (e) { $(this).val($(this).val().replace(/[^0-9]/g, "")); let t = $(this).data("lenght") || 99; if (!($(this).val().length < t)) return !1; 46 != e.which && (e.which < 48 || e.which > 57) && e.preventDefault() }), $(".phone_input").on("keypress keyup blur", function (e) { if ($(this).val($(this).val().replace(/[^0-9]/g, "")), !($(this).val().length < 10)) return !1; 46 != e.which && (e.which < 48 || e.which > 57) && e.preventDefault() }), $("form").validate(), jQuery.validator.addClassRules("postal_code", { minlength: 5 }), $(".postal_code").attr("minlength", "5"), $(".postal_code").on("keypress keyup blur", function (e) { if ($(this).val($(this).val().replace(/[^0-9]/g, "")), !($(this).val().length < 5)) return !1; 46 != e.which && (e.which < 48 || e.which > 57) && e.preventDefault() }), $(".non_spaces, input[type='email'], .rfc_validator").on("keypress keyup blur", function (e) { if (32 == e.keyCode) return !1 }), $(".upper").on("keypress keyup blur", function (e) { isNaN($(this).val()) && $(this).val($(this).val().toUpperCase()) }), $(".upper").css("text-transform", "uppercase"), $(".lower").on("keypress keyup blur", function (e) { isNaN($(this).val()) && $(this).val($(this).val().toLowerCase()) }), $(".lower_format").each(function (e, t) { var i = ""; t.innerText.split(" ").forEach(function (e, t) { i += e.substring(0, 1).toUpperCase() + e.substring(1).toLowerCase() + " " }), t.innerText = i }), $(".email_validator, input[type='email']").on("blur", function (e) { "" == $(this).val().trim() || void 0 == $(this).val() || ($("#error_valid_email").remove(), /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String($(this).val()).toLowerCase()) || $(this).addClass("invalid").after("<span class='danger input_error_msg' id='error_valid_email'> " + ("en" == current_locale ? "Invalid E-mail format" : "Formato de Correo Electr\xf3nico invalido") + ": (example@domain.com) </span>")) }), $(".rfc_validator").on("blur", function (e) { "" == $(this).val().trim() || void 0 == $(this).val() || ($("#error_valid_rfc").remove(), /^(((?!(([CcKk][Aa][CcKkGg][AaOo])|([Bb][Uu][Ee][YyIi])|([Kk][Oo](([Gg][Ee])|([Jj][Oo])))|([Cc][Oo](([Gg][Ee])|([Jj][AaEeIiOo])))|([QqCcKk][Uu][Ll][Oo])|((([Ff][Ee])|([Jj][Oo])|([Pp][Uu]))[Tt][Oo])|([Rr][Uu][Ii][Nn])|([Gg][Uu][Ee][Yy])|((([Pp][Uu])|([Rr][Aa]))[Tt][Aa])|([Pp][Ee](([Dd][Oo])|([Dd][Aa])|([Nn][Ee])))|([Mm](([Aa][Mm][OoEe])|([Ee][Aa][SsRr])|([Ii][Oo][Nn])|([Uu][Ll][Aa])|([Ee][Oo][Nn])|([Oo][Cc][Oo])))))[A-Za-zñÑ&][aeiouAEIOUxX]?[A-Za-zñÑ&]{2}(((([02468][048])|([13579][26]))0229)|(\d{2})((02((0[1-9])|1\d|2[0-8]))|((((0[13456789])|1[012]))((0[1-9])|((1|2)\d)|30))|(((0[13578])|(1[02]))31)))[a-zA-Z1-9]{2}[\dAa])|([Xx][AaEe][Xx]{2}010101000))$/.test(String($(this).val()).toLowerCase()) || $(this).addClass("invalid").after("<span class='danger input_error_msg' id='error_valid_rfc'> " + ("en" == current_locale ? "Invalid RCF Format" : "RFC invalido") + ": ( XXXX000000XX0 / XXX000000XX0 ) </span>")) }), $(".rfc_validator").attr("minlength", "12").attr("maxlength", "13"), $(".rfc_validator").on("keypress keyup blur", function (e) { if ($(this).val().length > 13) return !1 }), $("#main .container button").dblclick(function (e) { e.preventDefault() }), $("textarea").on("input", function () { $(this).css("height", ""), this.style.height = this.scrollHeight + 3 + "px" }), $("textarea").each(function () { $(this).css("height", ""), this.style.height = this.scrollHeight + 3 + "px" }), $("input[type='checkbox']").change(function () { $(this).val(this.checked) }), $("input[type='checkbox']").each(function (e, t) { $(this).val(this.checked) }), $("input[data-type='currency']").attr("data_currency", "$").on({ keyup: function () { formatCurrency($(this)) }, blur: function () { formatCurrency($(this), "blur") } }), $("input[data-type='currency']").each(function () { let e = $(this).data("currency") || "$"; $(this).attr("placeholder", e + "1,000,000.00") }), $(".wrapper-alert .icon-times").on("click", function (e) { $(this).closest(".wrapper-alert").toggleClass("collapsed"), e.stopImmediatePropagation() }), $("legend").append("<span class='fas fa-minus'></span>").click(function () { var e = $(this), t = e.parent().contents().not(this); return e.parent().find("span").remove(), t.is(":visible") ? (t.hide(), e.append("<span class='fas fa-plus'></span>")) : (t.show(), e.append("<span class='fas fa-minus'></span>")), !1 }), $("legend").css("cursor", "pointer") } function InitTooltips() { $("[title]").each(function (e, t) { let i = $(t), a = i.attr("title"); i.attr("data-tooltip", a), i.tooltip(), i.removeAttr("title"), i.css("cursor", "pointer") }) } function ReloadDataTables() { try { 0 != $("table").length && $("table").each(function () { var e = !0, t = !0, i = !0, a = !0; $.fn.DataTable.isDataTable($(this)) || ($(this).hasClass("non-searching") && (e = !1), $(this).hasClass("non-ordering") && (t = !1), $(this).hasClass("non-paging") && (i = !1, a = !1), $(this).dataTable({ searching: e, paging: i, ordering: t, bInfo: a, lengthMenu: [[25, 50, 100, -1], [25, 50, 100, "All"]] })) }) } catch (e) { console.error(e) } } function formatNumber(e) { return e.replace(/\D/g, "").replace(/\B(?=(\d{3})+(?!\d))/g, ",") } function formatCurrency(e, t) { var i = e.val(); if ("" === i) { $(e).addClass("invalid"), $(e).removeClass("valid"); return } $(e).addClass("valid"), $(e).removeClass("invalid"); var a = $(e).data("currency"); a = void 0 == a ? "$" : a; var n = i.length, r = e.prop("selectionStart"); if (i.indexOf(".") >= 0) { var s = i.indexOf("."), o = i.substring(0, s), l = i.substring(s); o = formatNumber(o), l = formatNumber(l), "blur" === t && (l += "00"), i = a + o + "." + (l = l.substring(0, 2)) } else i = a + (i = formatNumber(i)), "blur" === t && (i += ".00"); e.val(i), r = i.length - n + r, e[0].setSelectionRange(r, r) } function Base64ToBytes(e) { for (var t = window.atob(e), i = new Uint8Array(t.length), a = 0; a < t.length; a++)i[a] = t.charCodeAt(a); return i } $.fn.hasAttr = function (e) { return void 0 !== this.attr(e) && !1 !== this.attr(e) }, $(document).ready(function () { InitInputs(), InitTooltips() });